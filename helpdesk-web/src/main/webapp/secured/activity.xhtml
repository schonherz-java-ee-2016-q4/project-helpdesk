<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core"
                template="/templates/menuLayout.xhtml">

    <ui:define name="customTitle">Activity</ui:define>

    <ui:define name="customHead">
        <h:outputStylesheet library="css" name="activity.css"/>
    </ui:define>

    <ui:define name="customBody">
        <div class="container">
            <h2>#{msg.user_activity_details}</h2>
            <h3>200</h3>
            <!-- User activity details -->
            <h:form id="activityTableEntries">
                <div class="activityDetails">
                    <!--<p:poll async="true" delay="2500" update="activityTableEntries"></p:poll>-->
                    <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                            <th>#{msg.timestamp}</th>
                            <th>#{msg.type}</th>
                            <th>#{msg.target}</th>
                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat value='#{clientActivityView.refreshActivities("200")}' var="clientActivity">
                            <tr>
                                <td>#{clientActivity.createdAt}</td>

                                <c:choose>
                                    <c:when test="#{clientActivity.type} == 'BUTTON_CLICK'">
                                        <td class="buttonClickClass">
                                            #{clientActivity.type}
                                        </td>
                                    </c:when>
                                    <c:when test="#{clientActivity.type} == 'NAVIGATION'">
                                        <td class="navigationClass">
                                            #{clientActivity.type}
                                        </td>
                                    </c:when>
                                    <c:when test="#{clientActivity.type} == 'INPUT_FOCUSLOSS'">
                                        <td class="inputFocuslossClass">
                                            #{clientActivity.type}
                                        </td>
                                    </c:when>
                                    <c:when test="#{clientActivity.type} == 'FORM_SUBMIT'">
                                        <td class="formSubmitClass">
                                            #{clientActivity.type}
                                        </td>
                                    </c:when>
                                    <c:otherwise>
                                        <td>
                                            #{clientActivity.type}
                                        </td>
                                    </c:otherwise>
                                </c:choose>

                                <td>#{clientActivity.target}</td>
                            </tr>
                        </ui:repeat>
                        </tbody>
                    </table>
                </div>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
